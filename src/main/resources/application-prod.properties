# ==============================================================
# application-prod.properties - 生产环境 Spring Boot 基础配置
#
# ⚠️ 说明：
#   - 数据库、Redis、JWT、gRPC 等业务配置已迁移至 Nacos
#   - 此文件只保留 Nacos 无法覆盖的最早期启动配置
#   - Nacos Data ID: LifeHubServer.properties（在 Nacos 控制台维护）
# ==============================================================

# ---- 应用基础 ----
server.port=9000

# ---- SpringDoc（生产环境关闭 Swagger UI）----
springdoc.swagger-ui.enabled=false
springdoc.api-docs.enabled=false

# ---- 日志 ----
logging.config=classpath:logback-spring.xml
logging.level.com.xhn=info
logging.level.root=warn
logging.file.path=logs

# ---- Jackson ----
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.deserialization.fail-on-unknown-properties=false

# ---- Actuator 健康检查（供 Docker 使用）----
management.endpoints.web.exposure.include=health
management.endpoint.health.show-details=never


spring.config.import=nacos:LifeHubServer-prod.properties?refreshEnabled=true
spring.cloud.nacos.config.server-addr=${NACOS_SERVER_ADDR:nacos:8848}
spring.cloud.nacos.config.namespace=${NACOS_NAMESPACE:}
spring.cloud.nacos.config.group=${NACOS_GROUP:DEFAULT_GROUP}
spring.cloud.nacos.username=${NACOS_USERNAME:nacos}
spring.cloud.nacos.password=${NACOS_PASSWORD:nacos}

# ========== Nacos 服务注册中心 ==========
# 启用服务注册
spring.cloud.nacos.discovery.enabled=true
# Nacos Server 地址（通常与配置中心相同）
spring.cloud.nacos.discovery.server-addr=${NACOS_SERVER_ADDR:nacos:8848}
# 命名空间（与配置中心保持一致）
spring.cloud.nacos.discovery.namespace=${NACOS_NAMESPACE:}
# 分组（与配置中心保持一致）
spring.cloud.nacos.discovery.group=${NACOS_GROUP:DEFAULT_GROUP}
# 服务名称（默认使用 spring.application.name）
spring.cloud.nacos.discovery.service-name=LifeHubServer
# 注册的集群名称
spring.cloud.nacos.discovery.cluster-name=DEFAULT
# 实例IP（自动检测，可手动指定）
# spring.cloud.nacos.discovery.ip=${HOST_IP:}
# 实例端口（默认使用 server.port）
spring.cloud.nacos.discovery.port=9000
# 是否开启实例的临时状态（true=临时实例，false=持久化实例）
spring.cloud.nacos.discovery.ephemeral=true
# 心跳间隔（秒）
spring.cloud.nacos.discovery.heart-beat-interval=5
# 实例过期时间（秒）
spring.cloud.nacos.discovery.ip-delete-timeout=30
# 元数据（可选，用于存储实例的额外信息）
spring.cloud.nacos.discovery.metadata.version=1.0.0
spring.cloud.nacos.discovery.metadata.region=prod
# 认证信息（与配置中心保持一致）
spring.cloud.nacos.discovery.username=${NACOS_USERNAME:nacos}
spring.cloud.nacos.discovery.password=${NACOS_PASSWORD:nacos}
