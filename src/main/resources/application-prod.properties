# ==============================================================
# 生产环境配置 - application-prod.properties
# 敏感值通过环境变量注入，不要在此文件中写入真实密钥！
# ==============================================================

spring.application.name=LifeHubServer
server.port=9000
spring.profiles.active=prod

# ---- 数据库（R2DBC 响应式驱动）----
# 环境变量：SPRING_R2DBC_URL / SPRING_R2DBC_USERNAME / SPRING_R2DBC_PASSWORD
# spring.r2dbc.url 会由 SPRING_R2DBC_URL 环境变量自动覆盖
spring.r2dbc.url=${SPRING_R2DBC_URL}
spring.r2dbc.username=${SPRING_R2DBC_USERNAME}
spring.r2dbc.password=${SPRING_R2DBC_PASSWORD}

# MyBatis-Plus（sync datasource，用于 MyBatis-Plus 的同步操作）
spring.datasource.url=jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:LifeHub}
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# ---- Redis ----
spring.data.redis.host=${REDIS_HOST:localhost}
spring.data.redis.port=${REDIS_PORT:6379}
spring.data.redis.password=${REDIS_PASSWORD:}
spring.data.redis.database=0

# ---- JWT ----
jwt.secret=${JWT_SECRET}
jwt.expiration=86400000

# ---- SpringDoc（生产环境关闭 Swagger UI）----
springdoc.swagger-ui.enabled=false
springdoc.api-docs.enabled=false

# ---- 日志（生产环境输出到文件）----
logging.config=classpath:logback-spring.xml
logging.level.com.xhn=info
logging.level.root=warn

# ---- Jackson ----
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.deserialization.fail-on-unknown-properties=false

# ---- Actuator 健康检查（供 Docker 使用）----
management.endpoints.web.exposure.include=health
management.endpoint.health.show-details=never
